<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description"><meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/assets/styles/html5reset.css" media="all">
    <link rel="stylesheet" href="/assets/styles/responsivegridsystem.css" media="all">
    <link rel="stylesheet" href="/assets/styles/col.css" media="all">
    <link rel="stylesheet" href="/assets/styles/2cols.css" media="all">
    <link rel="stylesheet" href="/assets/styles/3cols.css" media="all">
    <link rel="stylesheet" href="/assets/styles/4cols.css" media="all">
    <link rel="stylesheet" href="/assets/styles/5cols.css" media="all">
    <link rel="stylesheet" href="/assets/styles/6cols.css" media="all">
    <link rel="stylesheet" href="/assets/styles/7cols.css" media="all">
    <link rel="stylesheet" href="/assets/styles/8cols.css" media="all">
    <link rel="stylesheet" href="/assets/styles/9cols.css" media="all">
    <link rel="stylesheet" href="/assets/styles/10cols.css" media="all">
    <link rel="stylesheet" href="/assets/styles/11cols.css" media="all">
    <link rel="stylesheet" href="/assets/styles/12cols.css" media="all">
    <!-- Responsive Stylesheets -->
    <link rel="stylesheet" media="only screen and (max-width: 1024px) and (min-width: 769px)" href="/assets/styles/1024.css">
    <link rel="stylesheet" media="only screen and (max-width: 768px) and (min-width: 481px)" href="/assets/styles/768.css">
    <link rel="stylesheet" media="only screen and (max-width: 480px)" href="/assets/styles/480.css">
    <!-- All JavaScript at the bottom, except for Modernizr which enables HTML5 elements and feature detects -->
    <script src="/assets/scripts/modernizr-2.5.3-min.js"></script><link rel="stylesheet" type="text/css" href="/assets/styles/menu_sideslide.css" />
    <link rel="stylesheet" href="/assets/lib/codemirror.css">
    <link rel="stylesheet" href="/assets/theme/midnight.css">
    <script type="text/javascript" src="/assets/lib/codemirror.js"></script>
    <script type="text/javascript" src="/assets/mode/javascript/javascript.js"></script>
    <script type="text/javascript" src="/assets/addon/selection/active-line.js"></script>
    <script type="text/javascript" src="/assets/addon/edit/matchbrackets.js"></script>
    <link rel="stylesheet" href="/assets/styles/code_example.css">
    <title>Ketai Library - Gestures</title>
  </head>
</html>
<body>
<div class="menu-wrap">
  <nav class="menu">
    <div class="icon-list">
<ul class="menu">
  <li><a href="/about/">About</a></li>
  <li><a href="/get-started/">Get Started</a></li>
  <li><a href="/projects/">Examples</a></li>
  <li><a href="/references/">Reference</a></li><br/><br/>
  <li><a href="https://github.com/ketai/library">Github</a></li>
  <li><a href="https://github.com/ketai/ketaiLibrary.org/issues">Forum</a></li>
  <li><a href="https://twitter.com/ketailibrary">Twitter</a></li>
</ul>
    </div>
  </nav>
  <button id="close-button" class="close-button">Close Menu</button>
</div>
<button id="open-button" class="menu-button">Open Menu</button>
<div class="title">
  <nav class="menu"></nav>
</div>
  <div id="wrapper">
    <div class="title">
      <h2>Ketai</h2>
    </div>
    <div id="maincontentcontainer">
      <div class="maincontent">
        <div class="section group">
          <div class="col span_1_of_6 menubar"><img src="/assets/images/logo.png">
<ul class="menu">
  <li><a href="/about/">About</a></li>
  <li><a href="/get-started/">Get Started</a></li>
  <li><a href="/projects/">Examples</a></li>
  <li><a href="/references/">Reference</a></li><br/><br/>
  <li><a href="https://github.com/ketai/library">Github</a></li>
  <li><a href="https://github.com/ketai/ketaiLibrary.org/issues">Forum</a></li>
  <li><a href="https://twitter.com/ketailibrary">Twitter</a></li>
</ul>
            <hr>
<h4><b>Other Examples:</b></h4>
<ul class="sidelist">
  <li><a href="/projects/accelerometer/">Accelerometer</a></li>
  <li><a href="/projects/audioinput/">Audio Input</a></li>
  <li><a href="/projects/bluetoothcursors/">Bluetooth Connection</a></li>
  <li><a href="/projects/cameragettingstarted/">Getting Camera Started</a></li>
  <li><a href="/projects/datacapture/">Data Capture</a></li>
  <li><a href="/projects/externalsqliteloading/">External SQLite Loading</a></li>
  <li><a href="/projects/facedetector/">Face Detector</a></li>
  <li><a href="/projects/geolocation/">Geolocation</a></li>
  <li><a href="/projects/gestures/" class="active">Gestures</a></li>
  <li><a href="/projects/gyroscope/">Gyroscope</a></li>
  <li><a href="/projects/locationdistance/">Long Distance</a></li>
  <li><a href="/projects/multiplesensors/">Multiple Sensors</a></li>
  <li><a href="/projects/nfcbeam/">NFC Beam</a></li>
  <li><a href="/projects/nfcread/">NFC Read</a></li>
  <li><a href="/projects/nfcwrite/">NFC Write</a></li>
  <li><a href="/projects/sqlite/">SQLite</a></li>
  <li><a href="/projects/ui/">UI</a></li>
  <li><a href="/projects/wifidirect-remotecursor/">WiFi Direct - Remote Cursor</a></li>
</ul>
          </div>
          <div class="col span_3_of_6 reference">
            <h3>Examples</h3><h4 id="gestures">Gestures</h4>
<p>Facedetector provides a face detector on android:<br>
&nbsp;- Wraps android face detection<br>
&nbsp;- Makes it available to any PImage<br></p>
<p>Download and copy to &#39;data&#39; folder of the sketch : <br>
&nbsp;- <a href="data/toci.jpg">toci.jpg<a><br></p>
<p>Gestures.pde</p>
<textarea id="code" class="codesnippet">
import android.view.MotionEvent;

import ketai.ui.<em>;

KetaiGesture gesture;
float Size = 10;
float Angle = 0;
PImage img;
ArrayList<Thing> things = new ArrayList<Thing>();

void setup()
{
  orientation(LANDSCAPE);
  gesture = new KetaiGesture(this);
  img = loadImage(&quot;toci.jpg&quot;);
  textSize(32);
  textAlign(CENTER);
  imageMode(CENTER);
}

void draw()
{
  background(128);
  pushMatrix();
  translate(width/2, height/2);
  rotate(Angle);
  image(img, 0, 0, Size, Size);
  popMatrix();

  //if we have things lets reverse through them 
  //  so we can delete dead ones and draw live ones
  if (things.size() &gt; 0)
    for (int i = things.size()-1; i &gt;= 0; i--)
    {
      Thing t = things.get(i);
      if (t.isDead())
        things.remove(t);
      else
        t.draw();
    }
}

void onDoubleTap(float x, float y)
{
  things.add(new Thing(&quot;DOUBLE&quot;, x, y));
}

void onTap(float x, float y)
{
  things.add(new Thing(&quot;SINGLE&quot;, x, y));
}

void onLongPress(float x, float y)
{
  things.add(new Thing(&quot;LONG&quot;, x, y));
}

//the coordinates of the start of the gesture, 
//     end of gesture and velocity in pixels/sec
void onFlick( float x, float y, float px, float py, float v)
{
  things.add(new Thing(&quot;FLICK:&quot;+v, x, y, px, py));
}

void onPinch(float x, float y, float d)
{
  Size = constrain(Size+d, 10, 2000);
}

void onRotate(float x, float y, float ang)
{
  Angle += ang;
}

//these still work if we forward MotionEvents below
void mouseDragged()
{
}

void mousePressed()
{}


public boolean surfaceTouchEvent(MotionEvent event) {

  //call to keep mouseX, mouseY, etc updated
  super.surfaceTouchEvent(event);

  //forward event to class for processing
  return gesture.surfaceTouchEvent(event);
}
</textarea>
<br>
Thing.pde
<textarea id="inline1" class="codesnippet">
class Thing
{
  PVector location;
  PVector plocation;
  String  mText=&quot;&quot;;
  float life = frameRate </em> 3;

  public Thing(String _text, float x, float y)
  {
    mText = _text;
    location = new PVector(x, y);
  }

  public Thing(String _text, float x, float y, float px, float py)
  {
    mText = _text;
    location = new PVector(x, y);
    plocation = new PVector(px, py);
  }

  public void draw()
  {
    pushStyle();
    stroke(255,map(life, frameRate<em>3, 0, 255, 0));
    fill(255, map(life, frameRate</em>3, 0, 255, 0));
    life--;
    if (life &gt; 0)
      text(mText, location.x, location.y);

    if (plocation != null)
      line(location.x, location.y, plocation.x, plocation.y);
    popStyle();
  }

  public boolean isDead()
  {
    return(life &lt;= 0);
  }
}
</textarea>

<p>Test</p>
<ul>
<li><strong>Screenshot</strong></li>
</ul>

          </div>
        </div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
      lineNumbers: true,
      styleActiveLine: true,
      matchBrackets: true
    });
    editor.setOption("theme", "midnight");
    
    var editor = CodeMirror.fromTextArea(document.getElementById("inline1"), {
      lineNumbers: true,
      styleActiveLine: true,
      matchBrackets: true
    });
    editor.setOption("theme", "midnight");
    
    var editor = CodeMirror.fromTextArea(document.getElementById("inline2"), {
      lineNumbers: true,
      styleActiveLine: true,
      matchBrackets: true
    });
    editor.setOption("theme", "midnight");
    
    
    
  </script><script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="/assets/scripts/jquery-1.7.2.min.js"><\/script>')</script>
  <script src="/assets/scripts/classie.js"></script>
  <script src="/assets/scripts/menu.js"></script>
  <script src="/assets/scripts/responsivegridsystem.js"></script>
</body>